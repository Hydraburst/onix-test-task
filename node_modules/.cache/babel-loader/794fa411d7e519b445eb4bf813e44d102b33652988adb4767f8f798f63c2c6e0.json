{"ast":null,"code":"import _regeneratorRuntime from\"C:/web/onix-ios-task/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/web/onix-ios-task/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/web/onix-ios-task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import WorkersList from\"./components/List/WorkersList\";import AddWorkerForm from\"./components/Form/AddWorkerForm\";import{Header}from\"./components/Header/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),workers=_useState2[0],setWorkers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showForm=_useState4[0],setShowForm=_useState4[1];var _useState5=useState(\"All\"),_useState6=_slicedToArray(_useState5,2),tabIndexClicked=_useState6[0],setTabIndexClicked=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userSearchInput=_useState8[0],setUserSearchInput=_useState8[1];var handleSearchChange=function handleSearchChange(e){setUserSearchInput(e.target.value);};var clearSearchInput=function clearSearchInput(){setUserSearchInput(\"\");};var tabClickHandler=function tabClickHandler(e){setTabIndexClicked(e.target.id);};var clickHandler=function clickHandler(){setShowForm(function(prevState){return!prevState;});console.log(\"clicked!\");};var setFormClose=function setFormClose(){setShowForm(false);};var fetchWorkers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,loadedWorkers,workerKey;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://react-http-175ac-default-rtdb.firebaseio.com/workers.json\");case 2:response=_context.sent;if(response.ok){_context.next=5;break;}throw new Error(\"Request failed\");case 5:_context.next=7;return response.json();case 7:data=_context.sent;loadedWorkers=[];for(workerKey in data){loadedWorkers.push({id:workerKey,name:data[workerKey].name,surname:data[workerKey].surname,birthDay:data[workerKey].birthDay,salary:data[workerKey].salary,department:data[workerKey].department,gender:data[workerKey].gender});}setWorkers(loadedWorkers);case 11:case\"end\":return _context.stop();}},_callee);}));return function fetchWorkers(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchWorkers();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{onClick:clickHandler,onChange:handleSearchChange,clear:clearSearchInput,value:userSearchInput}),showForm&&/*#__PURE__*/_jsx(AddWorkerForm,{onCloseForm:setFormClose}),/*#__PURE__*/_jsx(WorkersList,{list:workers,onIndexTabClicked:tabIndexClicked,onTabClickHander:tabClickHandler,searchText:userSearchInput})]});};export default App;","map":{"version":3,"names":["useState","useEffect","WorkersList","AddWorkerForm","Header","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","workers","setWorkers","_useState3","_useState4","showForm","setShowForm","_useState5","_useState6","tabIndexClicked","setTabIndexClicked","_useState7","_useState8","userSearchInput","setUserSearchInput","handleSearchChange","e","target","value","clearSearchInput","tabClickHandler","id","clickHandler","prevState","console","log","setFormClose","fetchWorkers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","loadedWorkers","workerKey","wrap","_callee$","_context","prev","next","fetch","sent","ok","Error","json","push","name","surname","birthDay","salary","department","gender","stop","apply","arguments","children","onClick","onChange","clear","onCloseForm","list","onIndexTabClicked","onTabClickHander","searchText"],"sources":["C:/web/onix-ios-task/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport WorkersList from \"./components/List/WorkersList\";\nimport AddWorkerForm from \"./components/Form/AddWorkerForm\";\nimport { Header } from \"./components/Header/Header\";\n\nconst App = () => {\n  const [workers, setWorkers] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [tabIndexClicked, setTabIndexClicked] = useState(\"All\");\n  const [userSearchInput, setUserSearchInput] = useState(\"\");\n\n  const handleSearchChange = (e) => {\n    setUserSearchInput(e.target.value);\n  };\n\n  const clearSearchInput = () => {\n    setUserSearchInput(\"\");\n  };\n\n  const tabClickHandler = (e) => {\n    setTabIndexClicked(e.target.id);\n  };\n\n  const clickHandler = () => {\n    setShowForm((prevState) => !prevState);\n    console.log(\"clicked!\");\n  };\n\n  const setFormClose = () => {\n    setShowForm(false);\n  };\n\n  const fetchWorkers = async () => {\n    const response = await fetch(\n      \"https://react-http-175ac-default-rtdb.firebaseio.com/workers.json\"\n    );\n    if (!response.ok) {\n      throw new Error(\"Request failed\");\n    }\n    const data = await response.json();\n    const loadedWorkers = [];\n    for (const workerKey in data) {\n      loadedWorkers.push({\n        id: workerKey,\n        name: data[workerKey].name,\n        surname: data[workerKey].surname,\n        birthDay: data[workerKey].birthDay,\n        salary: data[workerKey].salary,\n        department: data[workerKey].department,\n        gender: data[workerKey].gender,\n      });\n    }\n    setWorkers(loadedWorkers);\n  };\n  useEffect(() => {\n    fetchWorkers();\n  }, []);\n\n  return (\n    <>\n      <Header\n        onClick={clickHandler}\n        onChange={handleSearchChange}\n        clear={clearSearchInput}\n        value={userSearchInput}\n      />\n      {showForm && <AddWorkerForm onCloseForm={setFormClose} />}\n      <WorkersList\n        list={workers}\n        onIndexTabClicked={tabIndexClicked}\n        onTabClickHander={tabClickHandler}\n        searchText={userSearchInput}\n      />\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":"8UAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,WAAW,KAAM,+BAA+B,CACvD,MAAO,CAAAC,aAAa,KAAM,iCAAiC,CAC3D,OAASC,MAAM,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpD,GAAM,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAA,CAAS,CAChB,IAAAC,SAAA,CAA8BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAgCjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAxCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA8CrB,QAAQ,CAAC,KAAK,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtDE,eAAe,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAC1C,IAAAG,UAAA,CAA8CzB,QAAQ,CAAC,EAAE,CAAC,CAAA0B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAnDE,eAAe,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAE1C,GAAM,CAAAG,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,CAAC,CAAK,CAChCF,kBAAkB,CAACE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACpC,CAAC,CAED,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BL,kBAAkB,CAAC,EAAE,CAAC,CACxB,CAAC,CAED,GAAM,CAAAM,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIJ,CAAC,CAAK,CAC7BN,kBAAkB,CAACM,CAAC,CAACC,MAAM,CAACI,EAAE,CAAC,CACjC,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBhB,WAAW,CAAC,SAACiB,SAAS,QAAK,CAACA,SAAS,GAAC,CACtCC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACzB,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBpB,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED,GAAM,CAAAqB,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,CAAAC,aAAA,CAAAC,SAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACI,CAAAC,KAAK,CAC1B,mEACF,CAAC,QAFKT,QAAQ,CAAAM,QAAA,CAAAI,IAAA,IAGTV,QAAQ,CAACW,EAAE,EAAAL,QAAA,CAAAE,IAAA,eACR,IAAI,CAAAI,KAAK,CAAC,gBAAgB,CAAC,QAAAN,QAAA,CAAAE,IAAA,SAEhB,CAAAR,QAAQ,CAACa,IAAI,CAAC,CAAC,QAA5BZ,IAAI,CAAAK,QAAA,CAAAI,IAAA,CACJR,aAAa,CAAG,EAAE,CACxB,IAAWC,SAAS,GAAI,CAAAF,IAAI,CAAE,CAC5BC,aAAa,CAACY,IAAI,CAAC,CACjB1B,EAAE,CAAEe,SAAS,CACbY,IAAI,CAAEd,IAAI,CAACE,SAAS,CAAC,CAACY,IAAI,CAC1BC,OAAO,CAAEf,IAAI,CAACE,SAAS,CAAC,CAACa,OAAO,CAChCC,QAAQ,CAAEhB,IAAI,CAACE,SAAS,CAAC,CAACc,QAAQ,CAClCC,MAAM,CAAEjB,IAAI,CAACE,SAAS,CAAC,CAACe,MAAM,CAC9BC,UAAU,CAAElB,IAAI,CAACE,SAAS,CAAC,CAACgB,UAAU,CACtCC,MAAM,CAAEnB,IAAI,CAACE,SAAS,CAAC,CAACiB,MAC1B,CAAC,CAAC,CACJ,CACAnD,UAAU,CAACiC,aAAa,CAAC,CAAC,yBAAAI,QAAA,CAAAe,IAAA,MAAAtB,OAAA,GAC3B,kBArBK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAA2B,KAAA,MAAAC,SAAA,OAqBjB,CACDrE,SAAS,CAAC,UAAM,CACdwC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE/B,KAAA,CAAAF,SAAA,EAAA+D,QAAA,eACEjE,IAAA,CAACF,MAAM,EACLoE,OAAO,CAAEpC,YAAa,CACtBqC,QAAQ,CAAE5C,kBAAmB,CAC7B6C,KAAK,CAAEzC,gBAAiB,CACxBD,KAAK,CAAEL,eAAgB,CACxB,CAAC,CACDR,QAAQ,eAAIb,IAAA,CAACH,aAAa,EAACwE,WAAW,CAAEnC,YAAa,CAAE,CAAC,cACzDlC,IAAA,CAACJ,WAAW,EACV0E,IAAI,CAAE7D,OAAQ,CACd8D,iBAAiB,CAAEtD,eAAgB,CACnCuD,gBAAgB,CAAE5C,eAAgB,CAClC6C,UAAU,CAAEpD,eAAgB,CAC7B,CAAC,EACF,CAAC,CAEP,CAAC,CAED,cAAe,CAAAhB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}